function OnDeath(Launcher)

knuvlv = {
200,
200,
200,
200,
200,
200,
200,
200,
200,
200,
2000,
2000,
2000,
2000,
2000,
2000,
2000,
2000,
2000,
2000,
3000,
3000,
3000,
3000,
3000,
44000,
50000,
59000,
65000,
70000,
76000,
83000,
90000,
98000,
106000,
115000,
125000,
134000,
150000,
156000,
167000,
180000,
195000,
210000,
225000,
245000,
264000,
280000,
316000,
330000,
350000,
383000,
425000,
450000,
490000,
530000,
580000,
630000,
680000,
740000,
800000,
870000,
950000,
1030000,
1150000,
1250000,
1370000,
1500000,
1650000,
1780000,
1840000,
2000000,
2020000,
2050000,
2110000,
2200000,
2224000,
2300000,
2320000,
9600000,
9800000,
10000000,
10100000,
10200000,
10300000,
10500000,
10700000,
11000000,
11300000,
11600000,
12000000,
12400000,
13000000,
14000000,
15000000,
16000000,
17000000,
18000000,
19000000,
20000000,
22000000,
24000000,
26000000,
28000000,
30000000,
32000000,
34000000,
37000000,
40000000,
42000000,
44000000,
46000000,
48000000,
50000000,
52000000,
54000000,
56000000,
57000000,
58000000,
60000000,
63000000,
66000000,
69000000,
73000000,
78000000,
83000000,
88000000,
92000000,
96000000,
100000000,
120000000,
140000000,
160000000,
180000000,
200000000,
220000000,
240000000,
260000000,
280000000,
300000000,
320000000,
340000000,
360000000,
380000000,
400000000,
400000000,
400000000,
400000000,
400000000,
500000000,
500000000,
500000000,
500000000,
500000000,
500000000,
500000000,
500000000,
500000000,
600000000,
600000000,
600000000,
600000000,
600000000,
600000000,
600000000,
600000000,
600000000,
600000000,
700000000,
700000000,
700000000,
700000000,
700000000,
700000000,
700000000,
700000000,
700000000,
700000000,
800000000,
800000000,
800000000,
800000000,
800000000,
800000000,
800000000,
800000000,
800000000,
800000000,
900000000,
900000000,
900000000,
900000000,
900000000,
900000000,
1000000000,
1000000000,
1000000000,
1000000000,
2000000000,
}












	
	PlayerIndex1 = NpcIdx2PIdx(Launcher);
	OrgPlayer = PlayerIndex;
	bigiet = GetName()
ipcbht = GetIP()
  if (GetLevel() > 1) then
kinhnghiem = (knuvlv[GetLevel()-1])/2
else
kinhnghiem = 0
end
nganluong = GetCash()
sddt = GetTask(17)
if (GetWorldPos() ~= 53) then
blh = 0
else
blh = 1
end
if (GetTask(197) == 0) then
lnm = 1
else
lnm = 0
end





	if PlayerIndex1 > 0 then
	PlayerIndex = PlayerIndex1
	giet = GetName()


























if (GetIP() ~= ipcbht) then

if (lnm == 0) then

if (blh == 0) then
    
if (GetTask(249) == 999) then
bstg = 1



if (GetTask(160) == 111) then 

if (GetTask(18) == sddt) then
SetTask(160,999)

Earn(nganluong)
AddOwnExp(kinhnghiem)
Msg2Player("Ban da am sat "..bigiet..", nhan duoc "..kinhnghiem.." kinh nghiem, va "..nganluong.." ngan luong.")


htnv = 1
Msg2Player("Ban da hoan thanh tiec duoc giao, hay mau ve lanh thuong.")
else
htnv = 0
end
else
htnv = 0
end

else
htnv = 0
bstg = 0
end

elseif (blh == 1) then


bstg = 0
end	

else

bstg = 0
end

else

bstg = 0
end










 






	PlayerIndex = OrgPlayer;

if (bstg == 1) then
if (htnv == 1) then
SetTask(17,0)

Pay(nganluong)
if (GetLevel() > 1) then
SetLevel(GetLevel()-1)
end
Msg2Player("Ban da bi sat thu am sat, mat het ngan luong, dang cap giam di 1 cap.")

KickOutSelf()
end
end

	end

end;